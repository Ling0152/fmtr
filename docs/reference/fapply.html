<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Apply formatting to a vector — fapply • fmtr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Apply formatting to a vector — fapply"><meta property="og:description" content="The fapply function applies formatting to a vector."><meta property="og:image" content="https://fmtr.r-sassy.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fmtr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../articles/fmtr.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/fmtr-fdata.html">Format Data Function</a>
    </li>
    <li>
      <a href="../articles/fmtr-fapply.html">Format Apply Function</a>
    </li>
    <li>
      <a href="../articles/fmtr-fcat.html">Format Catalogs</a>
    </li>
    <li>
      <a href="../articles/fmtr-convenience.html">Convenience Functions</a>
    </li>
    <li>
      <a href="../articles/fmtr-helpers.html">Helper Functions</a>
    </li>
    <li>
      <a href="../articles/fmtr-example1.html">Complete Example</a>
    </li>
    <li>
      <a href="../articles/fmtr-faq.html">Frequently Asked Questions</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href=".././articles/fmtr-faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/dbosak01/fmtr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Apply formatting to a vector</h1>
    <small class="dont-index">Source: <a href="https://github.com/dbosak01/fmtr/blob/HEAD/R/fapply.R" class="external-link"><code>R/fapply.R</code></a></small>
    <div class="hidden name"><code>fapply.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>fapply</code> function applies formatting to a vector.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fapply</span><span class="op">(</span><span class="va">x</span>, format <span class="op">=</span> <span class="cn">NULL</span>, width <span class="op">=</span> <span class="cn">NULL</span>, justify <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A vector, factor, or list to apply the format to.</p></dd>


<dt>format</dt>
<dd><p>A format to be applied.</p></dd>


<dt>width</dt>
<dd><p>The desired character width of the formatted vector.  Default
value is NULL, meaning the vector will be variable width.</p></dd>


<dt>justify</dt>
<dd><p>Whether to justify the return vector.  Valid values are 
'left', 'right', 'center', 'centre', or 'none'.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A vector of formatted values.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The <code>fapply</code> function accepts several types of formats:  formatting
strings, named vectors,
vectorized functions, or user-defined formats.  It also 
accepts a formatting list, composed of any of the previous types.  
The function will first determine the type of format, and then apply 
the format in the appropriate way.  Results are returned as a vector.</p>
<p>The function also has parameters for width and justification.</p>
<p>Parameters may also be passed as attributes on the vector.  See 
the <code><a href="fattr.html">fattr</a></code> function for additional information on setting
formatting attributes.</p>
    </div>
    <div id="types-of-formats">
    <h2>Types of Formats</h2>
    

<p>The <code>fapply</code> function will process any of the following types of
formats:</p><ul><li><p><strong>Formatting string:</strong> A single string will be interpreted as 
a formatting string.  See the <a href="FormattingStrings.html">FormattingStrings</a> documentation for 
further details.</p></li>
<li><p><strong>Named vector:</strong> A named vector can serve as a lookup list or 
  decode 
for a vector.  You can use a named vector to perform simple 
lookups on character vectors.</p></li>
<li><p><strong>Format object:</strong> A format object may be created using the 
<code><a href="value.html">value</a></code> function.  The format object is included in the 
<strong>fmtr</strong> package, and is specially designed for data categorization.</p></li>
<li><p><strong>Vectorized formatting function:</strong> A vectorized function 
  provides
the most flexibility and power over your formatting.  You can use 
an existing formatting function from any package, or create 
your own vectorized formatting function using <code><a href="https://rdrr.io/r/base/Vectorize.html" class="external-link">Vectorize</a></code>.</p></li>
</ul><p><code>fapply</code> will also accept a formatting list, which can contain any 
number of formats from the above list.  To create a formatting list, 
see the <code><a href="flist.html">flist</a></code> function.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="fcat.html">fcat</a></code> to create a format catalog,
<code><a href="value.html">value</a></code> to define a format, 
<code><a href="fattr.html">fattr</a></code> to easily set the formatting attributes of a vector, 
and <code><a href="flist.html">flist</a></code> to define a formatting list.  Also see 
<code><a href="fdata.html">fdata</a></code> to apply formats to an entire data frame, and 
<a href="FormattingStrings.html">FormattingStrings</a> for how to define a formatting string.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co">## Example 1: Formatting string ##</span></span>
<span><span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.235</span>, <span class="fl">8.363</span>, <span class="fl">5.954</span>, <span class="fl">2.465</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply string format.</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v1</span>, <span class="st">"%.1f"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## Example 2: Named vector ##</span></span>
<span><span class="co"># Set up vector</span></span>
<span><span class="va">v2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"B"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set up named vector for formatting</span></span>
<span><span class="va">fmt2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>A <span class="op">=</span> <span class="st">"Vector Label A"</span>, B <span class="op">=</span> <span class="st">"Vector Label B"</span>, C <span class="op">=</span> <span class="st">"Vector Label C"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply format to vector</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v2</span>, <span class="va">fmt2</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## Example 3: User-defined format ##</span></span>
<span><span class="co"># Define format</span></span>
<span><span class="va">fmt3</span> <span class="op">&lt;-</span> <span class="fu"><a href="value.html">value</a></span><span class="op">(</span><span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"A"</span>, <span class="st">"Format Label A"</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"B"</span>, <span class="st">"Format Label B"</span><span class="op">)</span>, </span>
<span>              <span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="st">"Format Other"</span><span class="op">)</span><span class="op">)</span></span>
<span>              </span>
<span><span class="co"># Apply format to vector</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v2</span>, <span class="va">fmt3</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## Example 4: Formatting function ##</span></span>
<span><span class="co"># Set up vectorized function</span></span>
<span><span class="va">fmt4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Vectorize.html" class="external-link">Vectorize</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Function Label"</span>, <span class="va">x</span><span class="op">)</span></span>
<span>  <span class="kw">else</span></span>
<span>    <span class="va">ret</span> <span class="op">&lt;-</span> <span class="st">"Function Other"</span> </span>
<span>    </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">ret</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply format to vector</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v2</span>, <span class="va">fmt4</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## Example 5: Formatting List - Row Type ##</span></span>
<span><span class="co"># Set up data</span></span>
<span><span class="co"># Notice each row has a different data type</span></span>
<span><span class="va">v3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">2841.258</span>, <span class="st">"H"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>           <span class="st">"L"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fl">60</span>, <span class="fl">1382.8865</span><span class="op">)</span></span>
<span><span class="va">v4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"int"</span>, <span class="st">"char"</span>, <span class="st">"date"</span>, <span class="st">"char"</span>, <span class="st">"date"</span>, <span class="st">"int"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create formatting list</span></span>
<span><span class="va">lst</span> <span class="op">&lt;-</span> <span class="fu"><a href="flist.html">flist</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"row"</span>, lookup <span class="op">=</span> <span class="va">v4</span>,</span>
<span>       int <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">x</span>, digits <span class="op">=</span> <span class="fl">2</span>, nsmall <span class="op">=</span> <span class="fl">1</span>, </span>
<span>                                  big.mark<span class="op">=</span><span class="st">","</span><span class="op">)</span>,</span>
<span>       char <span class="op">=</span> <span class="fu"><a href="value.html">value</a></span><span class="op">(</span><span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"H"</span>, <span class="st">"High"</span><span class="op">)</span>,</span>
<span>                     <span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"L"</span>, <span class="st">"Low"</span><span class="op">)</span>,</span>
<span>                     <span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="st">"NA"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       date <span class="op">=</span> <span class="st">"%d%b%Y"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply formatting list to vector</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v3</span>, <span class="va">lst</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## Example 6: Formatting List - Column Type ##</span></span>
<span><span class="co"># Set up data</span></span>
<span><span class="va">v5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fl">30</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fl">60</span><span class="op">)</span></span>
<span><span class="va">v5</span></span>
<span></span>
<span><span class="co"># Create formatting list</span></span>
<span><span class="va">lst</span> <span class="op">&lt;-</span> <span class="fu"><a href="flist.html">flist</a></span><span class="op">(</span><span class="st">"%B"</span>, <span class="st">"This month is: %s"</span>, type <span class="op">=</span> <span class="st">"column"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply formatting list to vector</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v5</span>, <span class="va">lst</span><span class="op">)</span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Bosak.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

