<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Format Apply Function • fmtr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Format Apply Function">
<meta property="og:description" content="fmtr">
<meta property="og:image" content="https://fmtr.r-sassy.org/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fmtr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.6.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/fmtr.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/fmtr-fdata.html">Format Data Function</a>
    </li>
    <li>
      <a href="../articles/fmtr-fapply.html">Format Apply Function</a>
    </li>
    <li>
      <a href="../articles/fmtr-fcat.html">Format Catalogs</a>
    </li>
    <li>
      <a href="../articles/fmtr-fapply2.html">Format and Combine</a>
    </li>
    <li>
      <a href="../articles/fmtr-convenience.html">Convenience Functions</a>
    </li>
    <li>
      <a href="../articles/fmtr-helpers.html">Helper Functions</a>
    </li>
    <li>
      <a href="../articles/fmtr-example1.html">Complete Example 1</a>
    </li>
    <li>
      <a href="../articles/fmtr-example2.html">Complete Example 2</a>
    </li>
    <li>
      <a href="../articles/fmtr-faq.html">Frequently Asked Questions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href=".././articles/fmtr-faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/dbosak01/fmtr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Format Apply Function</h1>
            
            <h4 data-toc-skip class="date">2024-01-07</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/dbosak01/fmtr/blob/HEAD/vignettes/fmtr-fapply.Rmd" class="external-link"><code>vignettes/fmtr-fapply.Rmd</code></a></small>
      <div class="hidden name"><code>fmtr-fapply.Rmd</code></div>

    </div>

    
    
<div class="section level3">
<h3 id="how-to-use-fapply">How to use fapply()<a class="anchor" aria-label="anchor" href="#how-to-use-fapply"></a>
</h3>
<p>The <code><a href="../reference/fapply.html">fapply()</a></code> function applies a format to a vector,
factor, or list. This function may be used independently of the
<code><a href="../reference/fdata.html">fdata()</a></code> function. Here is an example:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"B"</span><span class="op">)</span></span>
<span><span class="va">v1</span></span>
<span></span>
<span><span class="co"># [1] "A" "B" "C" "B"</span></span>
<span></span>
<span><span class="va">fmt1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/value.html">value</a></span><span class="op">(</span><span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"A"</span>, <span class="st">"Label A"</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"B"</span>, <span class="st">"Label B"</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="st">"Other"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/fapply.html">fapply</a></span><span class="op">(</span><span class="va">v1</span>, <span class="va">fmt1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># "Label A" "Label B"   "Other" "Label B" </span></span></code></pre></div>
<p>One advantage of using <code><a href="../reference/fapply.html">fapply()</a></code> is that your original
data is not altered. The formatted values are assigned to a new object.
If your original data changes, the formatting function should be
reapplied to maintain consistency with the original data.</p>
</div>
<div class="section level2">
<h2 id="what-kind-of-formats-are-available">What kind of formats are available<a class="anchor" aria-label="anchor" href="#what-kind-of-formats-are-available"></a>
</h2>
<p>Data can be formatted with several different types of objects:</p>
<ul>
<li>A formatting string</li>
<li>A named vector</li>
<li>A user-defined format</li>
<li>A vectorized function</li>
<li>A formatting list</li>
</ul>
<p>You can use the type of formatting object that is most suitable to
your data and situation. Each type of formatting object has it’s own
strengths and weaknesses.</p>
<div class="section level4">
<h4 id="formatting-string">Formatting String<a class="anchor" aria-label="anchor" href="#formatting-string"></a>
</h4>
<p>The formatting functions accept formatting strings such as those
associated with the Base R <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code> and
<code><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf()</a></code> functions. If the data type of the vector is a
date or datetime, <code><a href="../reference/fapply.html">fapply()</a></code> will use the format codes
associated with the <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code> function. For other data
types, <code><a href="../reference/fapply.html">fapply()</a></code> will use the format codes associated with
<code>sprintf</code>. Here is an example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.367</span>, <span class="fl">8.356</span>, <span class="fl">4.583</span>, <span class="fl">2.873</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">fapply</span>(v1, <span class="st">"%.1f%%"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"1.4%"</span> <span class="st">"8.4%"</span> <span class="st">"4.6%"</span> <span class="st">"2.9%"</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="named-vectors">Named vectors<a class="anchor" aria-label="anchor" href="#named-vectors"></a>
</h4>
<p>Data may be formatted using a named vector as a lookup. Simply ensure
that the names on the formatting vector correspond to the values in the
data vector.<br>
The advantage of using a named vector for formatting is its simplicity.
The disadvantage is that it only works with character values. Here is an
example of formatting using a named vector:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"B"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fmt1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>A <span class="op">=</span> <span class="st">"Label A"</span>, B <span class="op">=</span> <span class="st">"Label B"</span>, C<span class="op">=</span> <span class="st">"Label C"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/fapply.html">fapply</a></span><span class="op">(</span><span class="va">v1</span>, <span class="va">fmt1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># "Label A" "Label B" "Label C" "Label B" </span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="user-defined-formats">User-defined formats<a class="anchor" aria-label="anchor" href="#user-defined-formats"></a>
</h4>
<p>The <strong>fmtr</strong> package provides custom functions for
creating user-defined formats, in a manner that is similar to a SAS®
user-defined format. These functions are <code><a href="../reference/value.html">value()</a></code> and
<code><a href="../reference/condition.html">condition()</a></code>. The <code><a href="../reference/value.html">value()</a></code> function accepts one
or more conditions. The <code><a href="../reference/condition.html">condition()</a></code> function accepts an
expression/label pair. A user-defined format has the advantage of a
clear and flexible syntax. It is excellent for categorizing data. Here
is an example of a user-defined format:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="cn">NA</span>, <span class="st">"C"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fmt2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/value.html">value</a></span><span class="op">(</span><span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="st">"Missing"</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"A"</span>, <span class="st">"Label A"</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"B"</span>, <span class="st">"Label B"</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="st">"Other"</span><span class="op">)</span><span class="op">)</span></span>
<span>              </span>
<span><span class="fu"><a href="../reference/fapply.html">fapply</a></span><span class="op">(</span><span class="va">v1</span>, <span class="va">fmt2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># "Label A" "Label B"   "Missing" "Other" </span></span></code></pre></div>
<p>The user-defined format may also be used to format values
conditionally. Conditional formatting is accomplished by using a
formatting string as the label. The following example formats a numeric
value two decimal places, unless it exceeds a specified range.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18.3987</span>, <span class="fl">15.45852</span>, <span class="fl">8.9835</span>, <span class="fl">11.246246</span>, <span class="fl">25.3858</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fmt3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/value.html">value</a></span><span class="op">(</span><span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="st">"Missing"</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">10</span>, <span class="st">"Low"</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">20</span>, <span class="st">"High"</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="st">"%.2f"</span><span class="op">)</span><span class="op">)</span></span>
<span>              </span>
<span><span class="fu"><a href="../reference/fapply.html">fapply</a></span><span class="op">(</span><span class="va">v2</span>, <span class="va">fmt3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># [1] "18.40"   "15.46"   "Low"     "11.25"   "High"    "Missing"</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="vectorized-functions">Vectorized functions<a class="anchor" aria-label="anchor" href="#vectorized-functions"></a>
</h4>
<p>Vectorized functions provide the most powerful way of formatting
data. Vectorized functions can be user-defined, or wrapping an available
packaged function. The vectorized function has the advantage of being
nearly limitless in the types of formatting you can perform. The
drawback is that a vectorized function can be more complicated to write.
Here is an example of formatting with a user-defined, vectorized
function:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="cn">NA</span>, <span class="st">"C"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fmt2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Vectorize.html" class="external-link">Vectorize</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> </span>
<span>      <span class="va">ret</span> <span class="op">&lt;-</span> <span class="st">"Missing"</span></span>
<span>    <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Label"</span>, <span class="va">x</span><span class="op">)</span></span>
<span>    <span class="kw">else</span> </span>
<span>      <span class="va">ret</span> <span class="op">&lt;-</span> <span class="st">"Other"</span></span>
<span>    </span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">ret</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span><span class="fu"><a href="../reference/fapply.html">fapply</a></span><span class="op">(</span><span class="va">v1</span>, <span class="va">fmt2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># "Label A" "Label B"   "Missing" "Other" </span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="a-formatting-list">A formatting list<a class="anchor" aria-label="anchor" href="#a-formatting-list"></a>
</h4>
<p>Sometimes data needs to be formatted differently for each row. This
situation is difficult to deal with in any language.<br>
But it can be made easy in R with the <strong>fmtr</strong> package and
a formatting list.</p>
<p>A formatting list is a list that contains one or more of the four
types of formatting objects described above. It is defined with the
<code><a href="../reference/flist.html">flist()</a></code> function. A formatting list can be applied in two
different ways: in order, or with a lookup.</p>
<p>By default, the list is applied in order. That means the first format
in the list is applied to the first item in the vector, the second
format in the list is applied to the second item in the vector, and so
on. The list is recycled if the number of list items is shorter than the
number of values in the vector.</p>
<p>For the lookup method, the formatting object is specified by a lookup
vector. The lookup vector should contain names associated with the
elements in the formatting list. The lookup vector should also contain
the same number of items as the data vector. For each item in the data
vector, <strong>fmtr</strong> will look up the appropriate format from
the formatting list, and apply that format to the corresponding data
value.</p>
<p>The following is an example of a lookup style formatting list:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set up data</span></span>
<span><span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"num"</span>, <span class="st">"char"</span>, <span class="st">"date"</span>, <span class="st">"char"</span>, <span class="st">"date"</span>, <span class="st">"num"</span><span class="op">)</span></span>
<span><span class="va">v2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1.258</span>, <span class="st">"H"</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-06-19"</span><span class="op">)</span>,</span>
<span>           <span class="st">"L"</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-04-24"</span><span class="op">)</span>, <span class="fl">2.8865</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>type <span class="op">=</span> <span class="va">v1</span>, values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">v2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">df</span></span>
<span></span>
<span><span class="co">#    type     values</span></span>
<span><span class="co"># 1   num      1.258</span></span>
<span><span class="co"># 2  char          H</span></span>
<span><span class="co"># 3  date 2020-06-19</span></span>
<span><span class="co"># 4  char          L</span></span>
<span><span class="co"># 5  date 2020-04-24</span></span>
<span><span class="co"># 6   num     2.8865</span></span>
<span></span>
<span><span class="co"># Set up formatting list</span></span>
<span><span class="va">lst</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/flist.html">flist</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"row"</span>, lookup <span class="op">=</span> <span class="va">v1</span>,</span>
<span>             num <span class="op">=</span> <span class="st">"%.1f"</span>,</span>
<span>             char <span class="op">=</span> <span class="fu"><a href="../reference/value.html">value</a></span><span class="op">(</span><span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"H"</span>, <span class="st">"High"</span><span class="op">)</span>,</span>
<span>                          <span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"L"</span>, <span class="st">"Low"</span><span class="op">)</span>,</span>
<span>                          <span class="fu"><a href="../reference/condition.html">condition</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="st">"NA"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>             date <span class="op">=</span> <span class="st">"%y-%m"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Assign formatting list to values column</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">values</span>, <span class="st">"format"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">lst</span></span>
<span></span>
<span></span>
<span><span class="co"># Apply formatting</span></span>
<span><span class="fu"><a href="../reference/fdata.html">fdata</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#   type values</span></span>
<span><span class="co"># 1  num    1.3</span></span>
<span><span class="co"># 2 char   High</span></span>
<span><span class="co"># 3 date  20-06</span></span>
<span><span class="co"># 4 char    Low</span></span>
<span><span class="co"># 5 date  20-04</span></span>
<span><span class="co"># 6  num    2.9</span></span></code></pre></div>
<p>Next: <a href="fmtr-fcat.html">Format Catalogs</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by David Bosak.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
