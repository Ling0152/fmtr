<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Format and Combine â€¢ fmtr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Format and Combine">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fmtr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.6.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/fmtr.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/fmtr-fdata.html">Format Data Function</a>
    </li>
    <li>
      <a href="../articles/fmtr-fapply.html">Format Apply Function</a>
    </li>
    <li>
      <a href="../articles/fmtr-fcat.html">Format Catalogs</a>
    </li>
    <li>
      <a href="../articles/fmtr-fapply2.html">Format and Combine</a>
    </li>
    <li>
      <a href="../articles/fmtr-convenience.html">Convenience Functions</a>
    </li>
    <li>
      <a href="../articles/fmtr-helpers.html">Helper Functions</a>
    </li>
    <li>
      <a href="../articles/fmtr-example1.html">Complete Example 1</a>
    </li>
    <li>
      <a href="../articles/fmtr-example2.html">Complete Example 2</a>
    </li>
    <li>
      <a href="../articles/fmtr-faq.html">Frequently Asked Questions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href=".././articles/fmtr-faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/dbosak01/fmtr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Format and Combine</h1>
            
            <h4 data-toc-skip class="date">2025-01-27</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/dbosak01/fmtr/blob/HEAD/vignettes/fmtr-fapply2.Rmd" class="external-link"><code>vignettes/fmtr-fapply2.Rmd</code></a></small>
      <div class="hidden name"><code>fmtr-fapply2.Rmd</code></div>

    </div>

    
    
<div class="section level3">
<h3 id="how-to-use-fapply2">How to use fapply2()<a class="anchor" aria-label="anchor" href="#how-to-use-fapply2"></a>
</h3>
<p>The <code><a href="../reference/fapply2.html">fapply2()</a></code> function applies two formats to two
different vectors, and combines them when complete. This function can be
used to collapse two columns into one. The <code><a href="../reference/fapply2.html">fapply2()</a></code>
function is convenient to use when preparing your data for reporting.
Here is an example:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create sample vectors</span></span>
<span><span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">27</span>, <span class="fl">43</span>, <span class="fl">22</span>, <span class="fl">56</span><span class="op">)</span></span>
<span><span class="va">v2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18.24324</span>, <span class="fl">29.05405</span>, <span class="fl">14.86486</span>, <span class="fl">37.83784</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create data frame</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"Counts"</span> <span class="op">=</span> <span class="va">v1</span>, <span class="st">"Percents"</span> <span class="op">=</span> <span class="va">v2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Format and Combine</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">CntPct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fapply2.html">fapply2</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">Counts</span>, <span class="va">dat</span><span class="op">$</span><span class="va">Percents</span>, <span class="st">"%d"</span>, <span class="st">"(%.1f%%)"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">dat</span></span>
<span><span class="co">#   Counts Percents     CntPct</span></span>
<span><span class="co"># 1     27 18.24324 27 (18.2%)</span></span>
<span><span class="co"># 2     43 29.05405 43 (29.1%)</span></span>
<span><span class="co"># 3     22 14.86486 22 (14.9%)</span></span>
<span><span class="co"># 4     56 37.83784 56 (37.8%)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="use-with-dplyr">Use with <em>dplyr</em><a class="anchor" aria-label="anchor" href="#use-with-dplyr"></a>
</h3>
<p>The <code><a href="../reference/fapply2.html">fapply2()</a></code> function is suitable for use with the
<em>dplyr</em> package. Here is the same example as above, but using
<em>dplyr</em> <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code> instead of Base R:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create sample vectors</span></span>
<span><span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">27</span>, <span class="fl">43</span>, <span class="fl">22</span>, <span class="fl">56</span><span class="op">)</span></span>
<span><span class="va">v2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18.24324</span>, <span class="fl">29.05405</span>, <span class="fl">14.86486</span>, <span class="fl">37.83784</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create data frame</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"Counts"</span> <span class="op">=</span> <span class="va">v1</span>, <span class="st">"Percents"</span> <span class="op">=</span> <span class="va">v2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Format and Combine</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>CntPct <span class="op">=</span> <span class="fu"><a href="../reference/fapply2.html">fapply2</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">Counts</span>, <span class="va">dat</span><span class="op">$</span><span class="va">Percents</span>, <span class="st">"%d"</span>, <span class="st">"(%.1f%%)"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">dat</span></span>
<span><span class="co">#   Counts Percents     CntPct</span></span>
<span><span class="co"># 1     27 18.24324 27 (18.2%)</span></span>
<span><span class="co"># 2     43 29.05405 43 (29.1%)</span></span>
<span><span class="co"># 3     22 14.86486 22 (14.9%)</span></span>
<span><span class="co"># 4     56 37.83784 56 (37.8%)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="use-with-datastep">Use with <em>datastep</em><a class="anchor" aria-label="anchor" href="#use-with-datastep"></a>
</h3>
<p>The <code><a href="../reference/fapply2.html">fapply2()</a></code> function is also compatible with the
<code><a href="https://libr.r-sassy.org/reference/datastep.html" class="external-link">datastep()</a></code> function from the <em>libr</em> package. Here is
the example again with the <code><a href="https://libr.r-sassy.org/reference/datastep.html" class="external-link">datastep()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://libr.r-sassy.org" class="external-link">libr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create sample vectors</span></span>
<span><span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">27</span>, <span class="fl">43</span>, <span class="fl">22</span>, <span class="fl">56</span><span class="op">)</span></span>
<span><span class="va">v2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18.24324</span>, <span class="fl">29.05405</span>, <span class="fl">14.86486</span>, <span class="fl">37.83784</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create data frame</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"Counts"</span> <span class="op">=</span> <span class="va">v1</span>, <span class="st">"Percents"</span> <span class="op">=</span> <span class="va">v2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Format and Combine</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://libr.r-sassy.org/reference/datastep.html" class="external-link">datastep</a></span><span class="op">(</span><span class="va">dat</span>,</span>
<span>         <span class="op">{</span></span>
<span>           <span class="va">CntPct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fapply2.html">fapply2</a></span><span class="op">(</span><span class="va">Counts</span>, <span class="va">Percents</span>, <span class="st">"%d"</span>, <span class="st">"(%.1f%%)"</span><span class="op">)</span></span>
<span>         <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span><span class="co"># View results</span></span>
<span><span class="va">dat</span></span>
<span><span class="co">#   Counts Percents     CntPct</span></span>
<span><span class="co"># 1     27 18.24324 27 (18.2%)</span></span>
<span><span class="co"># 2     43 29.05405 43 (29.1%)</span></span>
<span><span class="co"># 3     22 14.86486 22 (14.9%)</span></span>
<span><span class="co"># 4     56 37.83784 56 (37.8%)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="using-assigned-formats">Using Assigned Formats<a class="anchor" aria-label="anchor" href="#using-assigned-formats"></a>
</h2>
<p>Note that <code><a href="../reference/fapply2.html">fapply2()</a></code> will use formats assigned to the
data frame columns if they are available. Assigning the formats to the
columns first can simplify use of the function and promote format reuse.
To assign the formats to the columns, use the <code><a href="../reference/formats.html">formats()</a></code>
function, like so:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create sample vectors</span></span>
<span><span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">27</span>, <span class="fl">43</span>, <span class="fl">22</span>, <span class="fl">56</span><span class="op">)</span></span>
<span><span class="va">v2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18.24324</span>, <span class="fl">29.05405</span>, <span class="fl">14.86486</span>, <span class="fl">37.83784</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create data frame</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"Counts"</span> <span class="op">=</span> <span class="va">v1</span>, <span class="st">"Percents"</span> <span class="op">=</span> <span class="va">v2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/formats.html">formats</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Counts <span class="op">=</span> <span class="st">"%d"</span>, Percents <span class="op">=</span> <span class="st">"(%.1f%%)"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Format and Combine - Formats already assigned</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">CntPct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fapply2.html">fapply2</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">Counts</span>, <span class="va">dat</span><span class="op">$</span><span class="va">Percents</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">dat</span></span>
<span><span class="co">#   Counts Percents     CntPct</span></span>
<span><span class="co"># 1     27 18.24324 27 (18.2%)</span></span>
<span><span class="co"># 2     43 29.05405 43 (29.1%)</span></span>
<span><span class="co"># 3     22 14.86486 22 (14.9%)</span></span>
<span><span class="co"># 4     56 37.83784 56 (37.8%)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="format-catalog-with-datastep">Format Catalog with <code>datastep()</code><a class="anchor" aria-label="anchor" href="#format-catalog-with-datastep"></a>
</h2>
<p>The ability to use any formats assigned to the columns makes the
<code><a href="../reference/fapply.html">fapply()</a></code> function very useful when combined with format
catalogs and the <code><a href="https://libr.r-sassy.org/reference/datastep.html" class="external-link">datastep()</a></code> function. When the format
catalog is assigned to the <code><a href="https://libr.r-sassy.org/reference/datastep.html" class="external-link">datastep()</a></code>, it will
automatically assign the formats in the catalog to any corresponding
columns on the input data frame. This feature allows you to quickly
assign saved formats to a new dataset, and use those formats to combine
columns in the desired way. Observe:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://libr.r-sassy.org" class="external-link">libr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create sample vectors</span></span>
<span><span class="va">grp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Group1"</span>, <span class="st">"Group2"</span>, <span class="st">"Group3"</span>, <span class="st">"Group4"</span><span class="op">)</span></span>
<span><span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">27</span>, <span class="fl">43</span>, <span class="fl">22</span>, <span class="fl">56</span><span class="op">)</span></span>
<span><span class="va">v2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18.24324</span>, <span class="fl">29.05405</span>, <span class="fl">14.86486</span>, <span class="fl">37.83784</span><span class="op">)</span></span>
<span><span class="va">v3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5.24883</span>, <span class="fl">8.83724</span>, <span class="fl">2.39483</span>, <span class="fl">9.12542</span><span class="op">)</span></span>
<span><span class="va">v4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.97632</span>, <span class="fl">3.32845</span>, <span class="fl">0.29784</span>, <span class="fl">4.22156</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create data frame</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"Group"</span> <span class="op">=</span> <span class="va">grp</span>, <span class="st">"Counts"</span> <span class="op">=</span> <span class="va">v1</span>, <span class="st">"Percents"</span> <span class="op">=</span> <span class="va">v2</span>, </span>
<span>                  <span class="st">"Mean"</span> <span class="op">=</span> <span class="va">v3</span>, <span class="st">"SD"</span> <span class="op">=</span> <span class="va">v4</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View original data</span></span>
<span><span class="va">dat</span></span>
<span><span class="co">#    Group Counts Percents    Mean      SD</span></span>
<span><span class="co"># 1 Group1     27 18.24324 5.24883 2.97632</span></span>
<span><span class="co"># 2 Group2     43 29.05405 8.83724 3.32845</span></span>
<span><span class="co"># 3 Group3     22 14.86486 2.39483 0.29784</span></span>
<span><span class="co"># 4 Group4     56 37.83784 9.12542 4.22156</span></span>
<span></span>
<span><span class="co"># Create format catalog</span></span>
<span><span class="va">fc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcat.html">fcat</a></span><span class="op">(</span>Counts <span class="op">=</span> <span class="st">"%d"</span>, Percents <span class="op">=</span> <span class="st">"(%03.1f%%)"</span>,</span>
<span>           Mean <span class="op">=</span> <span class="st">"%.1f"</span>, SD <span class="op">=</span> <span class="st">"(%04.2f)"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Format and Combine columns using Format catalog</span></span>
<span><span class="va">dat2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://libr.r-sassy.org/reference/datastep.html" class="external-link">datastep</a></span><span class="op">(</span><span class="va">dat</span>, format <span class="op">=</span> <span class="va">fc</span>,</span>
<span>                 keep <span class="op">=</span> <span class="fu"><a href="https://common.r-sassy.org/reference/v.html" class="external-link">v</a></span><span class="op">(</span><span class="va">Group</span>, <span class="va">CntPct</span>, <span class="va">MeanSD</span><span class="op">)</span>,</span>
<span>                 <span class="op">{</span></span>
<span>                   </span>
<span>                   <span class="va">CntPct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fapply2.html">fapply2</a></span><span class="op">(</span><span class="va">Counts</span>, <span class="va">Percents</span><span class="op">)</span></span>
<span>                   <span class="va">MeanSD</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fapply2.html">fapply2</a></span><span class="op">(</span><span class="va">Mean</span>, <span class="va">SD</span><span class="op">)</span></span>
<span>                   </span>
<span>                 <span class="op">}</span><span class="op">)</span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">dat2</span></span>
<span><span class="co">#    Group     CntPct     MeanSD</span></span>
<span><span class="co"># 1 Group1 27 (18.2%) 5.2 (2.98)</span></span>
<span><span class="co"># 2 Group2 43 (29.1%) 8.8 (3.33)</span></span>
<span><span class="co"># 3 Group3 22 (14.9%) 2.4 (0.30)</span></span>
<span><span class="co"># 4 Group4 56 (37.8%) 9.1 (4.22)</span></span></code></pre></div>
<p>The above technique points to a method for sharing formats between
programs and ensuring that statistical results are formatted
consistently across programs.</p>
</div>
<div class="section level2">
<h2 id="use-of-other-format-types">Use of Other Format Types<a class="anchor" aria-label="anchor" href="#use-of-other-format-types"></a>
</h2>
<p>Note that the <code><a href="../reference/fapply2.html">fapply2()</a></code> function will accept any type of
format supported by the <em>fmtr</em> package. That means you can use
numeric formats, date formats, vector lookups, user-defined formats, and
vectorized functions. The combination of these format types allows you
to format and combine data in a powerful way that will enhance the
impact of your analysis.</p>
<p>Next: <a href="fmtr-convenience.html">Convenience Functions</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by David Bosak.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
